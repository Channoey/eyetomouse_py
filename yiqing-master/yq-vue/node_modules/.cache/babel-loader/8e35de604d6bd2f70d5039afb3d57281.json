{"ast":null,"code":"export default {\n  name: \"test\",\n\n  mounted() {\n    this.loadMessage();\n    this.timer = window.setInterval(() => {\n      setTimeout(() => {\n        this.loadMessage();\n      }, 0);\n    }, 1000);\n  },\n\n  methods: {\n    handleStart() {\n      const username = this.user.username;\n      this.request.post(\"/start\", {\n        user: username\n      }).then(res => {\n        console.log(res.code);\n      });\n    },\n\n    test() {\n      const username = this.user.username;\n      this.request.post(\"/test\", {\n        user: username\n      }).then(res => {\n        console.log(\"test success\");\n      });\n    },\n\n    loadMessage() {\n      this.request.get(\"/message\").then(res => {\n        this.message = res.data;\n        console.log(\"1\");\n      });\n    }\n\n  },\n\n  destroyed() {\n    window.clearInterval(this.timer);\n  },\n\n  data() {\n    return {\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {},\n      message: \"I am message!\"\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAqBA;EACAA,YADA;;EAEAC;IACA;IACA;MACAC;QACA;MACA,CAFA,EAEA,CAFA;IAGA,CAJA,EAIA,IAJA;EAKA,CATA;;EAUAC;IACAC;MACA;MACA;QAAAC;MAAA;QACAC;MACA,CAFA;IAGA,CANA;;IAOAC;MACA;MACA;QAAAF;MAAA;QACAC;MACA,CAFA;IAIA,CAbA;;IAcAE;MACA;QACA;QACAF;MACA,CAHA;IAKA;;EApBA,CAVA;;EAgCAG;IACAC;EACA,CAlCA;;EAmCAC;IACA;MACAN,kFADA;MAEAO;IAFA;EAIA;;AAxCA","names":["name","mounted","setTimeout","methods","handleStart","user","console","test","loadMessage","destroyed","window","data","message"],"sourceRoot":"src/views","sources":["test.vue"],"sourcesContent":["<template>\n  <div class=\"d2\">\n\n    <div style=\"width: 200px; height: 200px; line-height: 200px; border-radius: 50%; background-color: #1E90FF;\n        font-size: 40px; color: #fff; text-align: center; cursor: pointer; box-shadow: 0 0 30px rgba(0, 0, 0, .2);\n        margin-right: 50px;margin-top: 50px;\" @click=\"handleStart\">\n      开始程序\n    </div>\n<!--    <div style=\"width: 200px; height: 200px; line-height: 200px; border-radius: 50%; background-color: #1E90FF;-->\n<!--        font-size: 50px; color: #fff; text-align: center; cursor: pointer; box-shadow: 0 0 30px rgba(0, 0, 0, .2);-->\n<!--        margin-top:50px;\" @click=\"test\">-->\n<!--      测试-->\n<!--    </div>-->\n    <span>message:{{message}}</span>\n\n\n  </div>\n\n</template>\n\n<script>\nexport default {\n  name: \"test\",\n  mounted() {\n    this.loadMessage()\n    this.timer = window.setInterval(() => {\n      setTimeout(() => {\n        this.loadMessage()\n      },0)\n    },1000)\n  },\n  methods:{\n    handleStart(){\n      const username = this.user.username\n      this.request.post(\"/start\",{user: username}).then(res=>{\n        console.log(res.code)\n      })\n    },\n    test(){\n      const username = this.user.username\n      this.request.post(\"/test\",{user: username}).then(res=>{\n            console.log(\"test success\")\n          }\n      )\n    },\n    loadMessage(){\n      this.request.get(\"/message\").then(res=>{\n          this.message = res.data\n          console.log(\"1\")\n          }\n      )\n    }\n  },\n  destroyed() {\n    window.clearInterval(this.timer)\n  },\n  data(){\n    return{\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {},\n      message: \"I am message!\"\n    }\n  }\n}\n</script>\n\n<style scoped>\n.d2 {\n  min-width: 50%;\n  width: 100px;\n  height: 100px;\n  position: absolute;\n  display:flex;\n  justify-content:flex-end;\n}\n.btn1 {\n  position: relative;\n  right: 10px;\n  top: 100px;\n  margin-right: 100px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}